% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dynamics.R
\name{get_harvest_rate}
\alias{get_harvest_rate}
\title{Harvest rate calculation}
\usage{
get_harvest_rate(data, y, s, number_ysa, sel_fya, weight_fya)
}
\arguments{
\item{data}{A \code{list} of model data.  Must contain: \code{n_fishery},
\code{n_age}, \code{catch_obs_ysf}, \code{catch_units_f}.}

\item{y}{Integer. Year index (1-based).}

\item{s}{Integer. Season index (1-based).}

\item{number_ysa}{Numeric array \code{[n_year+1, n_season, n_age]}.
Current numbers-at-age.}

\item{sel_fya}{Numeric array \code{[n_fishery, n_year, n_age]}.
Selectivity at age by fishery and year.}

\item{weight_fya}{Numeric array \code{[n_fishery, n_year, n_age]}. Mean
weight at age by fishery and year.  Passed explicitly so AD gradients
propagate if growth is ever estimated.}
}
\value{
A named list with:
\describe{
\item{h_rate_fa}{Harvest rate array \code{[n_fishery, n_age]}.}
\item{h_rate_a}{Total harvest rate vector (length \code{n_age}).}
\item{penalty}{Penalty from \code{\link{posfun}} for harvest-rate constraint.}
}
}
\description{
Computes age-specific harvest rates by fishery for a single year-season
combination, using the Baranov catch equation.
}
\details{
\code{weight_fya} is passed as an explicit argument (not read from
\code{data}) so that AD gradients propagate correctly if growth parameters
are estimated in the future.
}
