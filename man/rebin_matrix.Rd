% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rebin.R
\name{rebin_matrix}
\alias{rebin_matrix}
\title{Compute rebinning weight matrix}
\usage{
rebin_matrix(src_edges, dest_edges)
}
\arguments{
\item{src_edges}{numeric vector (length N+1). Source bin boundaries.
Must be monotonically increasing.}

\item{dest_edges}{numeric vector (length M+1). Destination bin boundaries.
Must be monotonically increasing.}
}
\value{
numeric matrix (M x N) of overlap fractions.
}
\description{
Returns an M x N matrix W where \code{W[i,j]} is the fraction of source bin j
that falls within destination bin i. Applying \code{W \%*\% src_counts} gives
the same result as \code{rebin_counts(src_edges, src_counts, dest_edges)}.
}
\details{
Precomputing W is efficient when the same bin edges are reused for
many observations (e.g., all weight composition observations share the
same length-to-weight bin mapping).
}
\examples{
src_edges  <- 0:4
dest_edges <- c(0, 2, 4)
W <- rebin_matrix(src_edges, dest_edges)
# W \%*\% c(10, 20, 15, 5) gives the coarsened counts
}
