% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{get_cor_pairs}
\alias{get_cor_pairs}
\title{Return strongly-correlated parameter pairs}
\usage{
get_cor_pairs(
  obj,
  h = NULL,
  threshold = 0.9,
  include = c("core", "all"),
  digits = 3
)
}
\arguments{
\item{obj}{An RTMB AD object from \code{MakeADFun} after optimisation.}

\item{h}{Optional pre-computed Hessian matrix (square, same dimension as
\code{length(obj$par)}).  When \code{NULL} (default) the Hessian is
obtained via \code{obj$he()} if available, otherwise
\code{\link[stats]{optimHess}}.}

\item{threshold}{Absolute correlation threshold.  Only pairs with
\code{|cor| > threshold} are returned.  Default \code{0.9}.}

\item{include}{Which parameters to consider: \code{"core"} (default)
excludes \code{rdev_y} parameters; \code{"all"} includes everything in
\code{obj$par}.}

\item{digits}{Number of significant digits applied to the correlation
column.  Default \code{3}.  Use \code{NULL} to suppress rounding.}
}
\value{
A data.frame with columns \code{par1}, \code{par2},
\code{correlation} (sorted by descending \code{|correlation|}), or a
character string when no pairs exceed \code{threshold}.
}
\description{
Computes the parameter correlation matrix from the (inverse) Hessian and
returns a data.frame of pairs whose absolute correlation exceeds
\code{threshold}.  Pairs are sorted by descending absolute correlation.
If no pairs meet the criterion the function returns an informative string
instead of a data.frame.
}
