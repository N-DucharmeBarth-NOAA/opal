% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/selectivity.R
\name{get_selectivity}
\alias{get_selectivity}
\title{Compute selectivity-at-age from length-based selectivity curves}
\usage{
get_selectivity(data, par_sel, mu_a, sd_a, len_lower, len_upper, len_mid)
}
\arguments{
\item{data}{A list containing model data. Required elements:
n_fishery, n_year, n_age, sel_type_f.}

\item{par_sel}{Numeric matrix of dimensions \verb{[n_fishery, 6]}. Each row is
a real-line parameter vector. For logistic (sel_type_f == 1), only
columns 1:2 are used. For double-normal (sel_type_f == 2), all 6 are used.}

\item{mu_a}{Numeric vector (length n_age) of mean length at age.
May be AD if growth parameters are estimated.}

\item{sd_a}{Numeric vector (length n_age) of SD of length at age.
May be AD if growth parameters are estimated.}

\item{len_lower}{Numeric vector (length n_len) of lower bounds of length
bins.  Derived internally from \code{len_bin_start}, \code{len_bin_width},
and \code{n_len} inside \code{bet_model()}.}

\item{len_upper}{Numeric vector (length n_len) of upper bounds of length
bins.}

\item{len_mid}{Numeric vector (length n_len) of length-bin midpoints.}
}
\value{
3D array \code{sel_fya} of dimensions \verb{[n_fishery, n_year, n_age]}.
}
\description{
Defines selectivity as a parametric function of length (logistic or
double-normal), then converts to selectivity-at-age by matrix-multiplying
with the probability-of-length-at-age (PLA/ALK).
}
\details{
The PLA is computed internally from \code{mu_a} and \code{sd_a} so that
AD gradients propagate correctly if growth parameters are estimated in
the future.

Selectivity is currently time-invariant within each fishery (constant
across years).
}
